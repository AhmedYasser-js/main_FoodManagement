"use strict";(self.webpackChunkrecipes=self.webpackChunkrecipes||[]).push([[956],{5956:(w,h,o)=>{o.r(h),o.d(h,{UsersModule:()=>O});var g=o(6814),f=o(6639),l=o(3403),p=o(5061),e=o(5879),T=o(4986),d=o(2908),U=o(8189),Z=o(2425),y=o(6865),_=o(4692),b=o(1075),c=o(1025),v=o(2436),u=o(6223);const x=function(i){return["view_users",i]};function A(i,m){if(1&i){const t=e.EpF();e.TgZ(0,"tr",23)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"img",24),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"date"),e.qZA(),e.TgZ(19,"td")(20,"button",25)(21,"mat-icon"),e._uU(22,"more_horiz"),e.qZA()(),e.TgZ(23,"mat-menu",26,27)(25,"button",28)(26,"mat-icon",26),e._uU(27,"visibility"),e.qZA(),e.TgZ(28,"span"),e._uU(29,"View"),e.qZA()(),e.TgZ(30,"button",29),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openDeleteUserDialog(a))}),e.TgZ(31,"mat-icon",26),e._uU(32,"delete"),e.qZA(),e.TgZ(33,"span"),e._uU(34,"Delete"),e.qZA()()()()()}if(2&i){const t=m.$implicit,s=e.MAs(24),n=e.oxw(2);e.xp6(2),e.Oqu(t.userName),e.xp6(2),e.Q6J("src",null!=t.imagePath&&t.imagePath.length?n.imagePath+t.imagePath:n.notFoundRecipes,e.LSH),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phoneNumber),e.xp6(2),e.Oqu(t.country),e.xp6(2),e.Oqu(t.group.name),e.xp6(2),e.Oqu(e.xi3(15,10,t.creationDate,"dd/MM/yyyy, h:mm a")),e.xp6(3),e.Oqu(e.xi3(18,13,t.modificationDate,"dd/MM/yyyy, h:mm a")),e.xp6(3),e.Q6J("matMenuTriggerFor",s),e.xp6(5),e.Q6J("routerLink",e.VKq(16,x,t.id))}}function S(i,m){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"table",16)(2,"thead",17)(3,"tr")(4,"th",18),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"User image"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Email"),e.qZA(),e.TgZ(10,"th"),e._uU(11," Phone"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Country"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Role"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Creation Data"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Modification Data"),e.qZA(),e.TgZ(20,"th",19),e._uU(21,"Actions"),e.qZA()()(),e.TgZ(22,"tbody",20),e.YNc(23,A,35,18,"tr",21),e.qZA()(),e.TgZ(24,"mat-paginator",22),e.NdJ("page",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.handlePageEvent(n))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(23),e.Q6J("ngForOf",t.tableData),e.xp6(1),e.Q6J("length",null==t.tableResponse?null:t.tableResponse.totalNumberOfRecords)("pageSize",null==t.tableResponse?null:t.tableResponse.pageSize)("pageSizeOptions",t.pageSizeOptions)("pageIndex",null==t.tableResponse?null:t.tableResponse.pageNumber)}}function C(i,m){1&i&&(e.TgZ(0,"div",30)(1,"div",31),e._UZ(2,"img",32),e.TgZ(3,"h5",33),e._uU(4,"NO DATA"),e.qZA()()())}const q=[{path:"",component:(()=>{class i{constructor(t,s,n,a,r,I){this._HelperService=t,this._UsersService=s,this.dialog=n,this._ToastrService=a,this._CategoryService=r,this._Router=I,this.searchKey="",this.message="",this.length=50,this.pageSize=5,this.pageIndex=0,this.pageNumber=1,this.pageSizeOptions=[5,10,25],this.imagePath="https://upskilling-egypt.com:3006/",this.notFoundRecipes="./assets/images/avatar.png",this.tableData=[]}ngOnInit(){this.getUsers()}getUsers(){this._UsersService.getAllUsers({pageSize:this.pageSize,pageNumber:this.pageIndex,userName:this.searchKey}).subscribe({next:s=>{console.log(s.pageSize),this.tableResponse=s,this.tableData=s.data,console.log(this.tableData)}})}handlePageEvent(t){this.pageEvent=t,this.length=t.length,this.pageSize=t.pageSize,this.pageIndex=t.pageIndex,this.getUsers()}openDeleteUserDialog(t){console.log(t),this.dialog.open(p.T,{data:t}).afterClosed().subscribe(n=>{console.log("The dialog was closed"),console.log(t.id,t),n&&this.deleteUser(n,t.userName),console.log(t.id,t)})}deleteUser(t,s){this._UsersService.deleteUsers(t,s).subscribe({next:n=>{},error:n=>{this.message=n.error.message,this._ToastrService.error("error in deleted Pross!")},complete:()=>{this.getUsers(),this._ToastrService.success("The User was deleted successfully")}})}static#e=this.\u0275fac=function(s){return new(s||i)(e.Y36(T.W),e.Y36(d.f),e.Y36(U.uw),e.Y36(Z._W),e.Y36(y.H),e.Y36(l.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-users"]],decls:22,vars:3,consts:[["id","global_bg_image"],[1,"container"],[1,"row","align-items-center","justify-content-between"],[1,"col-8","text-white"],[1,"lead","mx-3","text-name"],[1,"mb-0"],[1,"col-4","text-end"],["src","./assets/images/menu-avatar.svg",1,"categoryAvatar","w-50"],[1,"my-3"],[1,"form-item","input-group","w-50","mx-auto"],["id","basic-addon1",1,"input-group-text","px-3","py-3","myPointer",3,"click"],[1,"fa-solid","fa-magnifying-glass"],[1,"y-line","my-auto"],["type","text","placeholder","search by name","aria-label","Username","aria-describedby","basic-addon1",1,"form-control","rounded-end","py-1","block",3,"ngModel","ngModelChange","keyup.enter"],[4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"table","table-striped"],[1,"text-center","py-4","font-weight-light"],[1,"rounded-start-4"],[1,"rounded-end-4"],[1,"text-center"],["class","",4,"ngFor","ngForOf"],["aria-label","Select page","color","primary",3,"length","pageSize","pageSizeOptions","pageIndex","page"],[1,""],["alt","Recipe Image",1,"w-image",3,"src"],["color","primary","mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["color","primary"],["menu","matMenu"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],[1,"d-flex","justify-content-center"],[1,"alert"],["src","./assets/images/avatarThinkingWoman.svg","alt",""],[1,"text-center","text-danger"]],template:function(s,n){1&s&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2")(5,"span"),e._uU(6,"Users"),e.qZA(),e.TgZ(7,"span",4),e._uU(8,"item "),e.qZA()(),e.TgZ(9,"p",5),e._uU(10," You can now add your items that any user can order it from the Application and you can edit "),e.qZA()(),e.TgZ(11,"div",6),e._UZ(12,"img",7),e.qZA()()()(),e.TgZ(13,"section",8)(14,"div",9)(15,"span",10),e.NdJ("click",function(){return n.getUsers()}),e._UZ(16,"i",11),e.qZA(),e._UZ(17,"div",12),e.TgZ(18,"input",13),e.NdJ("ngModelChange",function(r){return n.searchKey=r})("keyup.enter",function(){return n.getUsers()}),e.qZA()()(),e.TgZ(19,"section"),e.YNc(20,S,25,5,"div",14),e.YNc(21,C,5,0,"div",15),e.qZA()),2&s&&(e.xp6(18),e.Q6J("ngModel",n.searchKey),e.xp6(2),e.Q6J("ngIf",n.tableData.length>0),e.xp6(1),e.Q6J("ngIf",0==n.tableData.length))},dependencies:[g.sg,g.O5,l.rH,_.Hw,b.RK,c.VK,c.OP,c.p6,v.NW,u.Fj,u.JJ,u.On,g.uU],styles:["section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-block:20px;background-color:#e2e5eb;margin-bottom:5px}"]})}return i})()},{path:"view_users/:id",component:(()=>{class i{constructor(t,s,n,a,r){this._UsersService=t,this._ActivatedRoute=s,this._Router=n,this.dialog=a,this._ToastrService=r,this.userId=0,this.country="",this.email="",this.roleInSystem="",this.imagePath="",this.phoneNumber=0,this.userName="",this.completImage="https://upskilling-egypt.com:3006/",this.notFoundRecipes="./assets/images/avatar.png",this.message="",this.searchKey="",this.length=50,this.pageSize=5,this.pageIndex=0,this.pageNumber=1,this.pageSizeOptions=[5,10,25],this.tableData=[],console.log(s.snapshot.params.id),this.userId=s.snapshot.params.id}ngOnInit(){this.getUsers(),this.userId>0&&this.getUserById(this.userId)}getUserById(t){this._UsersService.getUserById(t).subscribe({next:s=>{console.log(s),this.userData=s,this.userName=s.userName,this.country=s.country,this.roleInSystem=s.group.name,this.email=s.email,this.imagePath=s.imagePath,this.phoneNumber=s.phoneNumber},error:s=>{console.log(s)}})}goToUsers(){this._Router.navigate(["/dashboard/admin/users"])}getUsers(){this._UsersService.getAllUsers({pageSize:this.pageSize,pageNumber:this.pageNumber,userName:this.searchKey}).subscribe({next:s=>{console.log(s.pageSize),this.tableResponse=s,this.tableData=s.data,console.log(this.tableData)}})}openDeleteUserDialog(t){console.log(t),this.dialog.open(p.T,{data:t}).afterClosed().subscribe(n=>{console.log("The dialog was closed"),console.log(t.id,t),n&&this.deleteUser(n,t.userName),console.log(t.id,t)})}deleteUser(t,s){this._UsersService.deleteUsers(t,s).subscribe({next:n=>{},error:n=>{this.message=n.error.message,this._ToastrService.error("error in deleted Pross!")},complete:()=>{this.getUsers(),this._ToastrService.success("The User was deleted successfully"),this._Router.navigate(["/dashboard/admin/users"])}})}static#e=this.\u0275fac=function(s){return new(s||i)(e.Y36(d.f),e.Y36(l.gz),e.Y36(l.F0),e.Y36(U.uw),e.Y36(Z._W))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-user"]],decls:33,vars:6,consts:[["id","fillRecipe",1,"mt-5","px-5"],[1,"row","justify-content-between","align-items-center"],[1,"pt-4"],[1,"d-flex","justify-content-between"],[1,""],[1,"text-main","h3"],[1,"h3","text-main"],[1,"d-flex","justify-content-between","mt-5"],[1,"bg_gray"],[1,"text-center"],["alt","user Image",1,"w_UserImage","rounded-circle","UserImage",3,"src"],[1,"d-flex","justify-content-center","mt-5"],[1,"border","border-success","text-success","bg-white",3,"click"],[1,"fa-solid","fa-users","px-2","text-success"]],template:function(s,n){1&s&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"User Name : "),e.TgZ(6,"span",5),e._uU(7),e.qZA()(),e.TgZ(8,"h5"),e._uU(9,"User Role : "),e.TgZ(10,"span",5),e._uU(11),e.qZA()(),e.TgZ(12,"h5"),e._uU(13,"country : "),e.TgZ(14,"span",6),e._uU(15),e.qZA()()(),e.TgZ(16,"div",7)(17,"h5"),e._uU(18,"email : "),e.TgZ(19,"span",6),e._uU(20),e.qZA()(),e.TgZ(21,"h5"),e._uU(22,"phoneNumber : "),e.TgZ(23,"span",6),e._uU(24),e.qZA()()()()()(),e.TgZ(25,"section",8)(26,"div",9),e._UZ(27,"img",10),e.qZA()(),e.TgZ(28,"section",11)(29,"button",12),e.NdJ("click",function(){return n.goToUsers()}),e.TgZ(30,"span"),e._uU(31,"Go Back To All Users"),e.qZA(),e._UZ(32,"i",13),e.qZA()()),2&s&&(e.xp6(7),e.Oqu(n.userName),e.xp6(4),e.Oqu(n.roleInSystem),e.xp6(4),e.Oqu(n.country),e.xp6(5),e.Oqu(n.email),e.xp6(4),e.Oqu(n.phoneNumber),e.xp6(3),e.Q6J("src",n.imagePath.length?n.completImage+n.imagePath:n.notFoundRecipes,e.LSH))},styles:[".w_UserImage[_ngcontent-%COMP%]{width:250px;height:250px}.UserImage[_ngcontent-%COMP%]{outline:15px solid #fff;top:20px}.bg_gray[_ngcontent-%COMP%]{background-color:#eeeff0e4;border-radius:20px}"]})}return i})(),title:"view_users"}];let N=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275mod=e.oAB({type:i});static#s=this.\u0275inj=e.cJS({imports:[l.Bz.forChild(q),l.Bz]})}return i})(),O=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275mod=e.oAB({type:i});static#s=this.\u0275inj=e.cJS({imports:[g.ez,N,f.m]})}return i})()}}]);